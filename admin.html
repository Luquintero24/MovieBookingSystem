<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Admin Dashboard - RaiderTix</title>
	<link rel="stylesheet" href="./css/style.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
	<script type="module" src="./js/admin.js"></script>
	<script type="module" src="js/authState.js"></script>
	<script src="js/search.js"></script>
</head>

<body>
	<header>
		<a href="./index.html" class="logo">
			<img src="./img/raidertix-high-resolution-logo-transparent (1).png" alt="RaiderTix logo" />
		</a>
		<div class="bx bx-menu" id="menu-icon"></div>

		<ul class="navbar">
			<li><a href="./index.html" class="home-active">Home</a></li>
			<li><a href="./index.html">Browse Full Catalog</a></li>
			<li><a href="./index.html">Upcoming Films</a></li>
		</ul>

		<div class="search-bar">
			<input type="text" id="searchInput" placeholder="Search movies..." />
		</div>

		<a href="login.html" class="btn" id="signInBtn" style="margin-left: 16px">Sign In</a>

		<div class="user-info" style="display: none; position: relative; margin-left: 16px">
			<div style="display: flex; align-items: center; gap: 40px; margin-left: 20px;">
				<div class="cart-icon" id="cartIcon" style="display: none; position: relative; cursor: pointer;">
					<i class="bx bx-cart" style="color: white; font-size: 24px;"></i>
					<span id="cartBadge" style="position: absolute; top: -6px; right: -8px; background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; display: none;">0</span>
				</div>

				<div id="userToggle" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
					<i class="bx bxs-user" style="color: white; font-size: 24px"></i>
					<span id="username" style="color: white; font-weight: 500">Hi, User!</span>
					<i class="bx bx-chevron-down" style="color: white"></i>
				</div>
			</div>
			<div id="userDropdown" style="
				display: none;
				position: absolute;
				top: 100%;
				right: 0;
				background-color: #18181b;
				border: 1px solid #fcd34d;
				border-radius: 8px;
				margin-top: 8px;
				z-index: 100;
				width: 120px;
			">
				<button id="signOutBtn" style="
					background: transparent;
					color: #fcd34d;
					border: none;
					width: 100%;
					padding: 10px;
					text-align: left;
					cursor: pointer;
					font-weight: 500;
				">
					Sign Out
				</button>
			</div>
		</div>
	</header>

	<main>
		<div class="order-grid" style="margin: 0 auto; max-width: 900px; text-align: center;">
			<h1 style="margin-top: 100px; margin-bottom: 30px; text-align: center; color: #fcd34d;">Admin Dashboard</h1>
			
			<div class="text-center" style="margin-top: 20px;">
				<a href="manage-movies.html" class="btn" style="background-color: #fcd34d; color: black; text-decoration: none; padding: 10px 20px; border-radius: 8px;">
					ðŸ›  Manage Movies
				</a>
			</div>
			
			<section id="systemStats">
				<h2 style="color: #fcd34d; font-size: 20px; font-weight: bold; margin-bottom: 10px;">ðŸ“Š System Stats</h2>
				<p>Total Tickets Sold: <span id="totalTickets">Loading...</span></p>
				<p>Total Revenue: $<span id="totalRevenue">Loading...</span></p>
				<p>Currently Playing Movies: <span id="movieCount">Loading...</span></p>
			</section>

			<h3 style="color: #fcd34d;"> Movies and Showtimes</h3>
			<div id="movieList" class="order-card" style="margin-top: 30px; text-align: left;"></div>
		

		</div>
	</main>

	<div id="modalOverlay" style="display: none;" class="modal-overlay-background"></div>

	<!-- Showtime Modal -->
	<div id="showtimeModal" class="modal-overlay">
		<div class="modal-content">
			<h2 id="showtimeModalTitle">Edit Showtimes</h2>
			<div id="currentShowtimes" style="margin-top: 10px;"></div>
			<div id="showtimeListContainer"></div>

			<!-- Inputs-->
			<div style="margin: 10px 0;">
				<label for="theaterSelect">Select Theater:</label>
				<select id="newTheater">
					<option value="">Choose a theater</option>
					<option value="t1">Amarillo Movieplex</option>
					<option value="t2">Levelland Film Center</option>
					<option value="t3">Lubbock Grand Cinema</option>
					<option value="t4">Odessa Cineplex</option>
					<option value="t5">Midland Screenhouse</option>
					<option value="t6">Snyder Cinema 8</option>
				</select>
			</div>

			<div style="margin: 10px 0;">
				<label for="showtimeInput">Enter Showtimes (comma-separated):</label>
				<input type="text" id="showtimeInput" placeholder="e.g. 10:30 AM, 1:00 PM">
			</div>

			<div style="margin-top: 20px;">
				<button id="saveShowtimesBtn">Save</button>
				<button id="closeShowtimesBtn" onclick="closeShowtimesModal()">Cancel</button>
			</div>

			
		</div>
	</div>
	

	<!-- Footer -->
	<section class="footer">
		<a href="index.html" class="logo">
			<img src="./img/raidertix-high-resolution-logo-transparent (1).png" alt="" />
		</a>
		<div class="social">
			<a href="#"><i class="bx bxl-facebook"></i></a>
			<a href="#"><i class="bx bxl-twitter"></i></a>
			<a href="#"><i class="bx bxl-instagram"></i></a>
		</div>
	</section>

	<div class="copyright">
		<p>&#169; RaiderTix All Right Reserved</p>
	</div>
	<script type="module" src="./js/admin.js"></script>

</body>

</html>