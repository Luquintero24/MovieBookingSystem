<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Order History – RaiderTix</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <style>
      .order-card {
        background-color: #18181b;
        color: white;
        padding: 20px;
        border: 1px solid #fcd34d;
        border-radius: 10px;
        margin: 10px 0;
      }
      .order-card h3 {
        color: #fcd34d;
        margin-bottom: 10px;
      }
      .order-grid {
        max-width: 800px;
        margin: 40px auto;
        padding: 0 20px;
      }
    </style>
  </head>

  <body>
    <header>
        <a href="./index.html" class="logo">
            <img
              src="./img/raidertix-high-resolution-logo-transparent (1).png"
              alt="RaiderTix logo"
            />
          </a>
          <div class="bx bx-menu" id="menu-icon"></div>
    
          <!-- menu  -->
          <ul class="navbar">
            <li><a href="./index.html" class="home-active">Home</a></li>
            <li><a href="./index.html">Browse Full Catalog</a></li>
            <li><a href="./index.html">Upcoming Films</a></li>
          </ul>
    
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search movies..." />
          </div>
    
          <!-- Sign In Button (for signed out users) -->
          <a href="login.html" class="btn" id="signInBtn" style="margin-left: 16px"
            >Sign In</a
          >
    
          <!-- User Dropdown (for signed in users) -->
          <div
            class="user-info"
            style="display: none; position: relative; margin-left: 16px"
          >
            <div style="display: flex; align-items: center; gap: 40px; margin-left: 20px;">
              <div class="cart-icon" id="cartIcon" style="display: none; position: relative; cursor: pointer;">
                <i class="bx bx-cart" style="color: white; font-size: 24px;"></i>
                <span id="cartBadge" style="position: absolute; top: -6px; right: -8px; background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; display: none;">0</span>
              </div>
            
              <div id="userToggle" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <i class="bx bxs-user" style="color: white; font-size: 24px"></i>
                <span id="username" style="color: white; font-weight: 500">Hi, User!</span>
                <i class="bx bx-chevron-down" style="color: white"></i>
              </div>
            </div>
            <div
              id="userDropdown"
              style="
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                background-color: #18181b;
                border: 1px solid #fcd34d;
                border-radius: 8px;
                margin-top: 8px;
                z-index: 100;
                width: 120px;
              "
            >
              <button
                id="signOutBtn"
                style="
                  background: transparent;
                  color: #fcd34d;
                  border: none;
                  width: 100%;
                  padding: 10px;
                  text-align: left;
                  cursor: pointer;
                  font-weight: 500;
                "
              >
                Sign Out
              </button>
            </div>
          </div>
    </header>

    <main>
      <div class="order-grid">
        <h1 style="margin-top: 100px;margin-bottom: 30px; text-align: center; color: #fcd34d;">Your Orders</h1>
        <div id="loadingMessage" style="text-align:center; margin-top:20px;">Loading orders…</div>
        <div id="ordersContainer"></div>
      </div>
    </main>

    <!-- Footer -->
    <section class="footer">
      <a href="index.html" class="logo">
        <img src="./img/raidertix-high-resolution-logo-transparent (1).png" alt="" />
      </a>
      <div class="social">
        <a href="#"><i class="bx bxl-facebook"></i></a>
        <a href="#"><i class="bx bxl-twitter"></i></a>
        <a href="#"><i class="bx bxl-instagram"></i></a>
      </div>
    </section>

    <div class="copyright">
      <p>&#169; RaiderTix All Right Reserved</p>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script type="module" src="js/authState.js" defer></script>
    <script src="js/search.js"></script>
    <script type="module" src="./js/order-history.js"></script>
  </body>
</html>
