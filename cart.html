<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Your Cart – RaiderTix</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <style>
      /* reuse your .order-grid & .order-summary from order-history */
      .order-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
        max-width: 960px;
        margin: 100px auto 40px;
        padding: 0 20px;
      }
      @media(min-width: 800px) {
        .order-grid {
          grid-template-columns: 5fr 2fr;
          align-items: start;
        }
      }
      .order-grid h1 {
        grid-column: 1 / -1;
        color: #fcd34d;
        margin-bottom: 1rem;
      }
      /* Cart items column */
      #cartItems {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }
      /* Summary box */
      .order-summary {
        background: #18181b;
        border: 1px solid #fcd34d;
        border-radius: 10px;
        padding: 20px;
      }
      .order-summary h2 {
        color: #fcd34d;
        margin-bottom: 1rem;
      }
      .order-summary p {
        color: #fff;
        margin-bottom: 1.5rem;
      }
      .order-summary .btn {
        width: 100%;
      }
      /* Cart‐item card */
      .cart-item {
        background: #18181b;
        border: 1px solid #27272a;
        border-radius: 8px;
        padding: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }
      .cart-item .item-info {
        flex: 1;
      }
      .cart-item .item-info h3 {
        color: #fcd34d;
        margin-bottom: 0.25rem;
      }
      .cart-item .item-info p {
        color: #d1d5db;
        font-size: 0.9rem;
      }
      .item-controls {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .item-controls button {
        background: #27272a;
        border: none;
        color: #fff;
        font-size: 1rem;
        padding: 4px 8px;
        cursor: pointer;
        border-radius: 4px;
      }
      .item-controls .qty {
        width: 24px;
        text-align: center;
        color: #fff;
      }
      .item-price {
        color: #fff;
        font-weight: 600;
      }
      .remove-item {
        background: #d64545;
        border: none;
        color: #fff;
        padding: 6px 10px;
        cursor: pointer;
        border-radius: 4px;
      }
    </style>
  </head>

  <body>
    <!-- Header / Navbar -->
    <header>
      <a href="./index.html" class="logo">
          <img
            src="./img/raidertix-high-resolution-logo-transparent (1).png"
            alt="RaiderTix logo"
          />
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>
  
        <!-- menu  -->
        <ul class="navbar">
          <li><a href="./index.html" class="home-active">Home</a></li>
          <li><a href="./index.html">Browse Full Catalog</a></li>
          <li><a href="./index.html">Upcoming Films</a></li>
        </ul>
  
        <div class="search-bar">
          <input type="text" id="searchInput" placeholder="Search movies..." />
        </div>
  
        <!-- Sign In Button (for signed out users) -->
        <a href="login.html" class="btn" id="signInBtn" style="margin-left: 16px"
          >Sign In</a
        >
  
        <!-- User Dropdown (for signed in users) -->
        <div
          class="user-info"
          style="display: none; position: relative; margin-left: 16px"
        >
          <div style="display: flex; align-items: center; gap: 40px; margin-left: 20px;">
            <div class="cart-icon" id="cartIcon" style="display: none; position: relative; cursor: pointer;">
              <i class="bx bx-cart" style="color: white; font-size: 24px;"></i>
              <span id="cartBadge" style="position: absolute; top: -6px; right: -8px; background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; display: none;">0</span>
            </div>
          
            <div id="userToggle" style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <i class="bx bxs-user" style="color: white; font-size: 24px"></i>
              <span id="username" style="color: white; font-weight: 500">Hi, User!</span>
              <i class="bx bx-chevron-down" style="color: white"></i>
            </div>
          </div>
          <div
            id="userDropdown"
            style="
              display: none;
              position: absolute;
              top: 100%;
              right: 0;
              background-color: #18181b;
              border: 1px solid #fcd34d;
              border-radius: 8px;
              margin-top: 8px;
              z-index: 100;
              width: 120px;
            "
          >
            <button
              id="signOutBtn"
              style="
                background: transparent;
                color: #fcd34d;
                border: none;
                width: 100%;
                padding: 10px;
                text-align: left;
                cursor: pointer;
                font-weight: 500;
              "
            >
              Sign Out
            </button>
          </div>
        </div>
  </header>

    <!-- Main Cart & Summary -->
    <main class="order-grid">
      <h1>Your Cart</h1>

      <!-- CART ITEMS COLUMN -->
      <div id="cartItems">
        <!-- js/cart.js will inject .cart-item cards or “Your cart is empty.” -->
      </div>

      <!-- ORDER SUMMARY ASIDE -->
      <aside class="order-summary">
        <h2>Order Summary</h2>
        <p>
          <strong>Subtotal:</strong>
          <span id="cartSubtotal">$0.00</span>
        </p>
        <button id="checkoutBtn" class="btn btn-primary" disabled>
          Continue to Checkout →
        </button>
      </aside>
    </main>

    <!-- Footer -->
    <section class="footer">
      <a href="index.html" class="logo">
        <img src="./img/raidertix-high-resolution-logo-transparent (1).png" alt="" />
      </a>
      <div class="social">
        <a href="#"><i class="bx bxl-facebook"></i></a>
        <a href="#"><i class="bx bxl-twitter"></i></a>
        <a href="#"><i class="bx bxl-instagram"></i></a>
      </div>
    </section>

    <div class="copyright">
      <p>&#169; RaiderTix All Right Reserved</p>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/search.js"></script>
    <script type="module" src="js/authState.js" defer></script>
    <script type="module" src="js/cart.js" defer></script>
  </body>
</html>
